(window["nojMonomainWebpackJsonpproduction"]=window["nojMonomainWebpackJsonpproduction"]||[]).push([[134],{"7NY+":function(t,e,r){t.exports=r("d8ZO").diff_match_patch},d8ZO:function(t,e){function p(){this.Diff_Timeout=1;this.Diff_EditCost=4;this.Match_Threshold=.5;this.Match_Distance=1e3;this.Patch_DeleteThreshold=.5;this.Patch_Margin=4;this.Match_MaxBits=32}var D=-1;var E=1;var d=0;p.Diff;p.prototype.diff_main=function(t,e,r,i){if(typeof i=="undefined"){if(this.Diff_Timeout<=0){i=Number.MAX_VALUE}else{i=(new Date).getTime()+this.Diff_Timeout*1e3}}var n=i;if(t==null||e==null){throw new Error("Null input. (diff_main)")}if(t==e){if(t){return[[d,t]]}return[]}if(typeof r=="undefined"){r=true}var a=r;var s=this.diff_commonPrefix(t,e);var f=t.substring(0,s);t=t.substring(s);e=e.substring(s);s=this.diff_commonSuffix(t,e);var h=t.substring(t.length-s);t=t.substring(0,t.length-s);e=e.substring(0,e.length-s);var l=this.diff_compute_(t,e,a,n);if(f){l.unshift([d,f])}if(h){l.push([d,h])}this.diff_cleanupMerge(l);return l};p.prototype.diff_compute_=function(t,e,r,i){var n;if(!t){return[[E,e]]}if(!e){return[[D,t]]}var a=t.length>e.length?t:e;var s=t.length>e.length?e:t;var f=a.indexOf(s);if(f!=-1){n=[[E,a.substring(0,f)],[d,s],[E,a.substring(f+s.length)]];if(t.length>e.length){n[0][0]=n[2][0]=D}return n}if(s.length==1){return[[D,t],[E,e]]}var h=this.diff_halfMatch_(t,e);if(h){var l=h[0];var g=h[1];var o=h[2];var v=h[3];var u=h[4];var c=this.diff_main(l,o,r,i);var p=this.diff_main(g,v,r,i);return c.concat([[d,u]],p)}if(r&&t.length>100&&e.length>100){return this.diff_lineMode_(t,e,i)}return this.diff_bisect_(t,e,i)};p.prototype.diff_lineMode_=function(t,e,r){var i=this.diff_linesToChars_(t,e);t=i.chars1;e=i.chars2;var n=i.lineArray;var a=this.diff_main(t,e,false,r);this.diff_charsToLines_(a,n);this.diff_cleanupSemantic(a);a.push([d,""]);var s=0;var f=0;var h=0;var l="";var g="";while(s<a.length){switch(a[s][0]){case E:h++;g+=a[s][1];break;case D:f++;l+=a[s][1];break;case d:if(f>=1&&h>=1){a.splice(s-f-h,f+h);s=s-f-h;var i=this.diff_main(l,g,false,r);for(var o=i.length-1;o>=0;o--){a.splice(s,0,i[o])}s=s+i.length}h=0;f=0;l="";g="";break}s++}a.pop();return a};p.prototype.diff_bisect_=function(t,e,r){var i=t.length;var n=e.length;var a=Math.ceil((i+n)/2);var s=a;var f=2*a;var h=new Array(f);var l=new Array(f);for(var g=0;g<f;g++){h[g]=-1;l[g]=-1}h[s+1]=0;l[s+1]=0;var o=i-n;var v=o%2!=0;var u=0;var c=0;var p=0;var d=0;for(var _=0;_<a;_++){if((new Date).getTime()>r){break}for(var b=-_+u;b<=_-c;b+=2){var m=s+b;var M;if(b==-_||b!=_&&h[m-1]<h[m+1]){M=h[m+1]}else{M=h[m-1]+1}var w=M-b;while(M<i&&w<n&&t.charAt(M)==e.charAt(w)){M++;w++}h[m]=M;if(M>i){c+=2}else if(w>n){u+=2}else if(v){var x=s+o-b;if(x>=0&&x<f&&l[x]!=-1){var y=i-l[x];if(M>=y){return this.diff_bisectSplit_(t,e,M,w,r)}}}}for(var k=-_+p;k<=_-d;k+=2){var x=s+k;var y;if(k==-_||k!=_&&l[x-1]<l[x+1]){y=l[x+1]}else{y=l[x-1]+1}var A=y-k;while(y<i&&A<n&&t.charAt(i-y-1)==e.charAt(n-A-1)){y++;A++}l[x]=y;if(y>i){d+=2}else if(A>n){p+=2}else if(!v){var m=s+o-k;if(m>=0&&m<f&&h[m]!=-1){var M=h[m];var w=s+M-m;y=i-y;if(M>=y){return this.diff_bisectSplit_(t,e,M,w,r)}}}}}return[[D,t],[E,e]]};p.prototype.diff_bisectSplit_=function(t,e,r,i,n){var a=t.substring(0,r);var s=e.substring(0,i);var f=t.substring(r);var h=e.substring(i);var l=this.diff_main(a,s,false,n);var g=this.diff_main(f,h,false,n);return l.concat(g)};p.prototype.diff_linesToChars_=function(t,e){var s=[];var f={};s[0]="";function r(t){var e="";var r=0;var i=-1;var n=s.length;while(i<t.length-1){i=t.indexOf("\n",r);if(i==-1){i=t.length-1}var a=t.substring(r,i+1);r=i+1;if(f.hasOwnProperty?f.hasOwnProperty(a):f[a]!==undefined){e+=String.fromCharCode(f[a])}else{e+=String.fromCharCode(n);f[a]=n;s[n++]=a}}return e}var i=r(t);var n=r(e);return{chars1:i,chars2:n,lineArray:s}};p.prototype.diff_charsToLines_=function(t,e){for(var r=0;r<t.length;r++){var i=t[r][1];var n=[];for(var a=0;a<i.length;a++){n[a]=e[i.charCodeAt(a)]}t[r][1]=n.join("")}};p.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0)){return 0}var r=0;var i=Math.min(t.length,e.length);var n=i;var a=0;while(r<n){if(t.substring(a,n)==e.substring(a,n)){r=n;a=r}else{i=n}n=Math.floor((i-r)/2+r)}return n};p.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1)){return 0}var r=0;var i=Math.min(t.length,e.length);var n=i;var a=0;while(r<n){if(t.substring(t.length-n,t.length-a)==e.substring(e.length-n,e.length-a)){r=n;a=r}else{i=n}n=Math.floor((i-r)/2+r)}return n};p.prototype.diff_commonOverlap_=function(t,e){var r=t.length;var i=e.length;if(r==0||i==0){return 0}if(r>i){t=t.substring(r-i)}else if(r<i){e=e.substring(0,r)}var n=Math.min(r,i);if(t==e){return n}var a=0;var s=1;while(true){var f=t.substring(n-s);var h=e.indexOf(f);if(h==-1){return a}s+=h;if(h==0||t.substring(n-s)==e.substring(0,s)){a=s;s++}}};p.prototype.diff_halfMatch_=function(t,e){if(this.Diff_Timeout<=0){return null}var r=t.length>e.length?t:e;var i=t.length>e.length?e:t;if(r.length<4||i.length*2<r.length){return null}var v=this;function n(t,e,r){var i=t.substring(r,r+Math.floor(t.length/4));var n=-1;var a="";var s,f,h,l;while((n=e.indexOf(i,n+1))!=-1){var g=v.diff_commonPrefix(t.substring(r),e.substring(n));var o=v.diff_commonSuffix(t.substring(0,r),e.substring(0,n));if(a.length<o+g){a=e.substring(n-o,n)+e.substring(n,n+g);s=t.substring(0,r-o);f=t.substring(r+g);h=e.substring(0,n-o);l=e.substring(n+g)}}if(a.length*2>=t.length){return[s,f,h,l,a]}else{return null}}var a=n(r,i,Math.ceil(r.length/4));var s=n(r,i,Math.ceil(r.length/2));var f;if(!a&&!s){return null}else if(!s){f=a}else if(!a){f=s}else{f=a[4].length>s[4].length?a:s}var h,l,g,o;if(t.length>e.length){h=f[0];l=f[1];g=f[2];o=f[3]}else{g=f[0];o=f[1];h=f[2];l=f[3]}var u=f[4];return[h,l,g,o,u]};p.prototype.diff_cleanupSemantic=function(t){var e=false;var r=[];var i=0;var n=null;var a=0;var s=0;var f=0;var h=0;var l=0;while(a<t.length){if(t[a][0]==d){r[i++]=a;s=h;f=l;h=0;l=0;n=t[a][1]}else{if(t[a][0]==E){h+=t[a][1].length}else{l+=t[a][1].length}if(n&&n.length<=Math.max(s,f)&&n.length<=Math.max(h,l)){t.splice(r[i-1],0,[D,n]);t[r[i-1]+1][0]=E;i--;i--;a=i>0?r[i-1]:-1;s=0;f=0;h=0;l=0;n=null;e=true}}a++}if(e){this.diff_cleanupMerge(t)}this.diff_cleanupSemanticLossless(t);a=1;while(a<t.length){if(t[a-1][0]==D&&t[a][0]==E){var g=t[a-1][1];var o=t[a][1];var v=this.diff_commonOverlap_(g,o);var u=this.diff_commonOverlap_(o,g);if(v>=u){if(v>=g.length/2||v>=o.length/2){t.splice(a,0,[d,o.substring(0,v)]);t[a-1][1]=g.substring(0,g.length-v);t[a+1][1]=o.substring(v);a++}}else{if(u>=g.length/2||u>=o.length/2){t.splice(a,0,[d,g.substring(0,u)]);t[a-1][0]=E;t[a-1][1]=o.substring(0,o.length-u);t[a+1][0]=D;t[a+1][1]=g.substring(u);a++}}a++}a++}};p.prototype.diff_cleanupSemanticLossless=function(t){function e(t,e){if(!t||!e){return 6}var r=t.charAt(t.length-1);var i=e.charAt(0);var n=r.match(p.nonAlphaNumericRegex_);var a=i.match(p.nonAlphaNumericRegex_);var s=n&&r.match(p.whitespaceRegex_);var f=a&&i.match(p.whitespaceRegex_);var h=s&&r.match(p.linebreakRegex_);var l=f&&i.match(p.linebreakRegex_);var g=h&&t.match(p.blanklineEndRegex_);var o=l&&e.match(p.blanklineStartRegex_);if(g||o){return 5}else if(h||l){return 4}else if(n&&!s&&f){return 3}else if(s||f){return 2}else if(n||a){return 1}return 0}var r=1;while(r<t.length-1){if(t[r-1][0]==d&&t[r+1][0]==d){var i=t[r-1][1];var n=t[r][1];var a=t[r+1][1];var s=this.diff_commonSuffix(i,n);if(s){var f=n.substring(n.length-s);i=i.substring(0,i.length-s);n=f+n.substring(0,n.length-s);a=f+a}var h=i;var l=n;var g=a;var o=e(i,n)+e(n,a);while(n.charAt(0)===a.charAt(0)){i+=n.charAt(0);n=n.substring(1)+a.charAt(0);a=a.substring(1);var v=e(i,n)+e(n,a);if(v>=o){o=v;h=i;l=n;g=a}}if(t[r-1][1]!=h){if(h){t[r-1][1]=h}else{t.splice(r-1,1);r--}t[r][1]=l;if(g){t[r+1][1]=g}else{t.splice(r+1,1);r--}}}r++}};p.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/;p.whitespaceRegex_=/\s/;p.linebreakRegex_=/[\r\n]/;p.blanklineEndRegex_=/\n\r?\n$/;p.blanklineStartRegex_=/^\r?\n\r?\n/;p.prototype.diff_cleanupEfficiency=function(t){var e=false;var r=[];var i=0;var n=null;var a=0;var s=false;var f=false;var h=false;var l=false;while(a<t.length){if(t[a][0]==d){if(t[a][1].length<this.Diff_EditCost&&(h||l)){r[i++]=a;s=h;f=l;n=t[a][1]}else{i=0;n=null}h=l=false}else{if(t[a][0]==D){l=true}else{h=true}if(n&&(s&&f&&h&&l||n.length<this.Diff_EditCost/2&&s+f+h+l==3)){t.splice(r[i-1],0,[D,n]);t[r[i-1]+1][0]=E;i--;n=null;if(s&&f){h=l=true;i=0}else{i--;a=i>0?r[i-1]:-1;h=l=false}e=true}}a++}if(e){this.diff_cleanupMerge(t)}};p.prototype.diff_cleanupMerge=function(t){t.push([d,""]);var e=0;var r=0;var i=0;var n="";var a="";var s;while(e<t.length){switch(t[e][0]){case E:i++;a+=t[e][1];e++;break;case D:r++;n+=t[e][1];e++;break;case d:if(r+i>1){if(r!==0&&i!==0){s=this.diff_commonPrefix(a,n);if(s!==0){if(e-r-i>0&&t[e-r-i-1][0]==d){t[e-r-i-1][1]+=a.substring(0,s)}else{t.splice(0,0,[d,a.substring(0,s)]);e++}a=a.substring(s);n=n.substring(s)}s=this.diff_commonSuffix(a,n);if(s!==0){t[e][1]=a.substring(a.length-s)+t[e][1];a=a.substring(0,a.length-s);n=n.substring(0,n.length-s)}}if(r===0){t.splice(e-i,r+i,[E,a])}else if(i===0){t.splice(e-r,r+i,[D,n])}else{t.splice(e-r-i,r+i,[D,n],[E,a])}e=e-r-i+(r?1:0)+(i?1:0)+1}else if(e!==0&&t[e-1][0]==d){t[e-1][1]+=t[e][1];t.splice(e,1)}else{e++}i=0;r=0;n="";a="";break}}if(t[t.length-1][1]===""){t.pop()}var f=false;e=1;while(e<t.length-1){if(t[e-1][0]==d&&t[e+1][0]==d){if(t[e][1].substring(t[e][1].length-t[e-1][1].length)==t[e-1][1]){t[e][1]=t[e-1][1]+t[e][1].substring(0,t[e][1].length-t[e-1][1].length);t[e+1][1]=t[e-1][1]+t[e+1][1];t.splice(e-1,1);f=true}else if(t[e][1].substring(0,t[e+1][1].length)==t[e+1][1]){t[e-1][1]+=t[e+1][1];t[e][1]=t[e][1].substring(t[e+1][1].length)+t[e+1][1];t.splice(e+1,1);f=true}}e++}if(f){this.diff_cleanupMerge(t)}};p.prototype.diff_xIndex=function(t,e){var r=0;var i=0;var n=0;var a=0;var s;for(s=0;s<t.length;s++){if(t[s][0]!==E){r+=t[s][1].length}if(t[s][0]!==D){i+=t[s][1].length}if(r>e){break}n=r;a=i}if(t.length!=s&&t[s][0]===D){return a}return a+(e-n)};p.prototype.diff_prettyHtml=function(t){var e=[];var r=/&/g;var i=/</g;var n=/>/g;var a=/\n/g;for(var s=0;s<t.length;s++){var f=t[s][0];var h=t[s][1];var l=h.replace(r,"&amp;").replace(i,"&lt;").replace(n,"&gt;").replace(a,"&para;<br>");switch(f){case E:e[s]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case D:e[s]='<del style="background:#ffe6e6;">'+l+"</del>";break;case d:e[s]="<span>"+l+"</span>";break}}return e.join("")};p.prototype.diff_text1=function(t){var e=[];for(var r=0;r<t.length;r++){if(t[r][0]!==E){e[r]=t[r][1]}}return e.join("")};p.prototype.diff_text2=function(t){var e=[];for(var r=0;r<t.length;r++){if(t[r][0]!==D){e[r]=t[r][1]}}return e.join("")};p.prototype.diff_levenshtein=function(t){var e=0;var r=0;var i=0;for(var n=0;n<t.length;n++){var a=t[n][0];var s=t[n][1];switch(a){case E:r+=s.length;break;case D:i+=s.length;break;case d:e+=Math.max(r,i);r=0;i=0;break}}e+=Math.max(r,i);return e};p.prototype.diff_toDelta=function(t){var e=[];for(var r=0;r<t.length;r++){switch(t[r][0]){case E:e[r]="+"+encodeURI(t[r][1]);break;case D:e[r]="-"+t[r][1].length;break;case d:e[r]="="+t[r][1].length;break}}return e.join("\t").replace(/%20/g," ")};p.prototype.diff_fromDelta=function(t,e){var r=[];var i=0;var n=0;var a=e.split(/\t/g);for(var s=0;s<a.length;s++){var f=a[s].substring(1);switch(a[s].charAt(0)){case"+":try{r[i++]=[E,decodeURI(f)]}catch(t){throw new Error("Illegal escape in diff_fromDelta: "+f)}break;case"-":case"=":var h=parseInt(f,10);if(isNaN(h)||h<0){throw new Error("Invalid number in diff_fromDelta: "+f)}var l=t.substring(n,n+=h);if(a[s].charAt(0)=="="){r[i++]=[d,l]}else{r[i++]=[D,l]}break;default:if(a[s]){throw new Error("Invalid diff operation in diff_fromDelta: "+a[s])}}}if(n!=t.length){throw new Error("Delta length ("+n+") does not equal source text length ("+t.length+").")}return r};p.prototype.match_main=function(t,e,r){if(t==null||e==null||r==null){throw new Error("Null input. (match_main)")}r=Math.max(0,Math.min(r,t.length));if(t==e){return 0}else if(!t.length){return-1}else if(t.substring(r,r+e.length)==e){return r}else{return this.match_bitap_(t,e,r)}};p.prototype.match_bitap_=function(t,n,a){if(n.length>this.Match_MaxBits){throw new Error("Pattern too long for this browser.")}var e=this.match_alphabet_(n);var s=this;function r(t,e){var r=t/n.length;var i=Math.abs(a-e);if(!s.Match_Distance){return i?1:r}return r+i/s.Match_Distance}var i=this.Match_Threshold;var f=t.indexOf(n,a);if(f!=-1){i=Math.min(r(0,f),i);f=t.lastIndexOf(n,a+n.length);if(f!=-1){i=Math.min(r(0,f),i)}}var h=1<<n.length-1;f=-1;var l,g;var o=n.length+t.length;var v;for(var u=0;u<n.length;u++){l=0;g=o;while(l<g){if(r(u,a+g)<=i){l=g}else{o=g}g=Math.floor((o-l)/2+l)}o=g;var c=Math.max(1,a-g+1);var p=Math.min(a+g,t.length)+n.length;var d=Array(p+2);d[p+1]=(1<<u)-1;for(var _=p;_>=c;_--){var b=e[t.charAt(_-1)];if(u===0){d[_]=(d[_+1]<<1|1)&b}else{d[_]=(d[_+1]<<1|1)&b|((v[_+1]|v[_])<<1|1)|v[_+1]}if(d[_]&h){var m=r(u,_-1);if(m<=i){i=m;f=_-1;if(f>a){c=Math.max(1,2*a-f)}else{break}}}}if(r(u+1,a)>i){break}v=d}return f};p.prototype.match_alphabet_=function(t){var e={};for(var r=0;r<t.length;r++){e[t.charAt(r)]=0}for(var r=0;r<t.length;r++){e[t.charAt(r)]|=1<<t.length-r-1}return e};p.prototype.patch_addContext_=function(t,e){if(e.length==0){return}var r=e.substring(t.start2,t.start2+t.length1);var i=0;while(e.indexOf(r)!=e.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin){i+=this.Patch_Margin;r=e.substring(t.start2-i,t.start2+t.length1+i)}i+=this.Patch_Margin;var n=e.substring(t.start2-i,t.start2);if(n){t.diffs.unshift([d,n])}var a=e.substring(t.start2+t.length1,t.start2+t.length1+i);if(a){t.diffs.push([d,a])}t.start1-=n.length;t.start2-=n.length;t.length1+=n.length+a.length;t.length2+=n.length+a.length};p.prototype.patch_make=function(t,e,r){var i,n;if(typeof t=="string"&&typeof e=="string"&&typeof r=="undefined"){i=t;n=this.diff_main(i,e,true);if(n.length>2){this.diff_cleanupSemantic(n);this.diff_cleanupEfficiency(n)}}else if(t&&typeof t=="object"&&typeof e=="undefined"&&typeof r=="undefined"){n=t;i=this.diff_text1(n)}else if(typeof t=="string"&&e&&typeof e=="object"&&typeof r=="undefined"){i=t;n=e}else if(typeof t=="string"&&typeof e=="string"&&r&&typeof r=="object"){i=t;n=r}else{throw new Error("Unknown call format to patch_make.")}if(n.length===0){return[]}var a=[];var s=new p.patch_obj;var f=0;var h=0;var l=0;var g=i;var o=i;for(var v=0;v<n.length;v++){var u=n[v][0];var c=n[v][1];if(!f&&u!==d){s.start1=h;s.start2=l}switch(u){case E:s.diffs[f++]=n[v];s.length2+=c.length;o=o.substring(0,l)+c+o.substring(l);break;case D:s.length1+=c.length;s.diffs[f++]=n[v];o=o.substring(0,l)+o.substring(l+c.length);break;case d:if(c.length<=2*this.Patch_Margin&&f&&n.length!=v+1){s.diffs[f++]=n[v];s.length1+=c.length;s.length2+=c.length}else if(c.length>=2*this.Patch_Margin){if(f){this.patch_addContext_(s,g);a.push(s);s=new p.patch_obj;f=0;g=o;h=l}}break}if(u!==E){h+=c.length}if(u!==D){l+=c.length}}if(f){this.patch_addContext_(s,g);a.push(s)}return a};p.prototype.patch_deepCopy=function(t){var e=[];for(var r=0;r<t.length;r++){var i=t[r];var n=new p.patch_obj;n.diffs=[];for(var a=0;a<i.diffs.length;a++){n.diffs[a]=i.diffs[a].slice()}n.start1=i.start1;n.start2=i.start2;n.length1=i.length1;n.length2=i.length2;e[r]=n}return e};p.prototype.patch_apply=function(t,e){if(t.length==0){return[e,[]]}t=this.patch_deepCopy(t);var r=this.patch_addPadding(t);e=r+e+r;this.patch_splitMax(t);var i=0;var n=[];for(var a=0;a<t.length;a++){var s=t[a].start2+i;var f=this.diff_text1(t[a].diffs);var h;var l=-1;if(f.length>this.Match_MaxBits){h=this.match_main(e,f.substring(0,this.Match_MaxBits),s);if(h!=-1){l=this.match_main(e,f.substring(f.length-this.Match_MaxBits),s+f.length-this.Match_MaxBits);if(l==-1||h>=l){h=-1}}}else{h=this.match_main(e,f,s)}if(h==-1){n[a]=false;i-=t[a].length2-t[a].length1}else{n[a]=true;i=h-s;var g;if(l==-1){g=e.substring(h,h+f.length)}else{g=e.substring(h,l+this.Match_MaxBits)}if(f==g){e=e.substring(0,h)+this.diff_text2(t[a].diffs)+e.substring(h+f.length)}else{var o=this.diff_main(f,g,false);if(f.length>this.Match_MaxBits&&this.diff_levenshtein(o)/f.length>this.Patch_DeleteThreshold){n[a]=false}else{this.diff_cleanupSemanticLossless(o);var v=0;var u;for(var c=0;c<t[a].diffs.length;c++){var p=t[a].diffs[c];if(p[0]!==d){u=this.diff_xIndex(o,v)}if(p[0]===E){e=e.substring(0,h+u)+p[1]+e.substring(h+u)}else if(p[0]===D){e=e.substring(0,h+u)+e.substring(h+this.diff_xIndex(o,v+p[1].length))}if(p[0]!==D){v+=p[1].length}}}}}}e=e.substring(r.length,e.length-r.length);return[e,n]};p.prototype.patch_addPadding=function(t){var e=this.Patch_Margin;var r="";for(var i=1;i<=e;i++){r+=String.fromCharCode(i)}for(var i=0;i<t.length;i++){t[i].start1+=e;t[i].start2+=e}var n=t[0];var a=n.diffs;if(a.length==0||a[0][0]!=d){a.unshift([d,r]);n.start1-=e;n.start2-=e;n.length1+=e;n.length2+=e}else if(e>a[0][1].length){var s=e-a[0][1].length;a[0][1]=r.substring(a[0][1].length)+a[0][1];n.start1-=s;n.start2-=s;n.length1+=s;n.length2+=s}n=t[t.length-1];a=n.diffs;if(a.length==0||a[a.length-1][0]!=d){a.push([d,r]);n.length1+=e;n.length2+=e}else if(e>a[a.length-1][1].length){var s=e-a[a.length-1][1].length;a[a.length-1][1]+=r.substring(0,s);n.length1+=s;n.length2+=s}return r};p.prototype.patch_splitMax=function(t){var e=this.Match_MaxBits;for(var r=0;r<t.length;r++){if(t[r].length1<=e){continue}var i=t[r];t.splice(r--,1);var n=i.start1;var a=i.start2;var s="";while(i.diffs.length!==0){var f=new p.patch_obj;var h=true;f.start1=n-s.length;f.start2=a-s.length;if(s!==""){f.length1=f.length2=s.length;f.diffs.push([d,s])}while(i.diffs.length!==0&&f.length1<e-this.Patch_Margin){var l=i.diffs[0][0];var g=i.diffs[0][1];if(l===E){f.length2+=g.length;a+=g.length;f.diffs.push(i.diffs.shift());h=false}else if(l===D&&f.diffs.length==1&&f.diffs[0][0]==d&&g.length>2*e){f.length1+=g.length;n+=g.length;h=false;f.diffs.push([l,g]);i.diffs.shift()}else{g=g.substring(0,e-f.length1-this.Patch_Margin);f.length1+=g.length;n+=g.length;if(l===d){f.length2+=g.length;a+=g.length}else{h=false}f.diffs.push([l,g]);if(g==i.diffs[0][1]){i.diffs.shift()}else{i.diffs[0][1]=i.diffs[0][1].substring(g.length)}}}s=this.diff_text2(f.diffs);s=s.substring(s.length-this.Patch_Margin);var o=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);if(o!==""){f.length1+=o.length;f.length2+=o.length;if(f.diffs.length!==0&&f.diffs[f.diffs.length-1][0]===d){f.diffs[f.diffs.length-1][1]+=o}else{f.diffs.push([d,o])}}if(!h){t.splice(++r,0,f)}}}};p.prototype.patch_toText=function(t){var e=[];for(var r=0;r<t.length;r++){e[r]=t[r]}return e.join("")};p.prototype.patch_fromText=function(t){var e=[];if(!t){return e}var r=t.split("\n");var i=0;var n=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;while(i<r.length){var a=r[i].match(n);if(!a){throw new Error("Invalid patch string: "+r[i])}var s=new p.patch_obj;e.push(s);s.start1=parseInt(a[1],10);if(a[2]===""){s.start1--;s.length1=1}else if(a[2]=="0"){s.length1=0}else{s.start1--;s.length1=parseInt(a[2],10)}s.start2=parseInt(a[3],10);if(a[4]===""){s.start2--;s.length2=1}else if(a[4]=="0"){s.length2=0}else{s.start2--;s.length2=parseInt(a[4],10)}i++;while(i<r.length){var f=r[i].charAt(0);try{var h=decodeURI(r[i].substring(1))}catch(t){throw new Error("Illegal escape in patch_fromText: "+h)}if(f=="-"){s.diffs.push([D,h])}else if(f=="+"){s.diffs.push([E,h])}else if(f==" "){s.diffs.push([d,h])}else if(f=="@"){break}else if(f===""){}else{throw new Error('Invalid patch mode "'+f+'" in: '+h)}i++}}return e};p.patch_obj=function(){this.diffs=[];this.start1=null;this.start2=null;this.length1=0;this.length2=0};p.patch_obj.prototype.toString=function(){var t,e;if(this.length1===0){t=this.start1+",0"}else if(this.length1==1){t=this.start1+1}else{t=this.start1+1+","+this.length1}if(this.length2===0){e=this.start2+",0"}else if(this.length2==1){e=this.start2+1}else{e=this.start2+1+","+this.length2}var r=["@@ -"+t+" +"+e+" @@\n"];var i;for(var n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case E:i="+";break;case D:i="-";break;case d:i=" ";break}r[n+1]=i+encodeURI(this.diffs[n][1])+"\n"}return r.join("").replace(/%20/g," ")};this["diff_match_patch"]=p;this["DIFF_DELETE"]=D;this["DIFF_INSERT"]=E;this["DIFF_EQUAL"]=d}}]);
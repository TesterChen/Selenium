(window["nojMonomainWebpackJsonpproduction"]=window["nojMonomainWebpackJsonpproduction"]||[]).push([[16],{uSY4:function(t,e,n){"use strict";var o=n("ge/T");var G=n("mmTc");var l=n("PRIO");var N=n("bqB3");var Q=n("8MQl");var c=function(t){return function(){return t}};var h=function(t,e,n){this.target=t;this.type=e;this.selection=n};function R(){N["b"].stopImmediatePropagation()}var Y=function(){N["b"].preventDefault();N["b"].stopImmediatePropagation()};var F={name:"drag"},H={name:"space"},L={name:"handle"},U={name:"center"};var X={name:"x",handles:["e","w"].map(f),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}};var Z={name:"y",handles:["n","s"].map(f),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}};var r={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(f),input:function(t){return t},output:function(t){return t}};var $={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var tt={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"};var et={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"};var nt={overlay:+1,selection:+1,n:null,e:+1,s:null,w:-1,nw:-1,ne:+1,se:+1,sw:-1};var rt={overlay:+1,selection:+1,n:-1,e:null,s:+1,w:null,nw:-1,ne:-1,se:+1,sw:+1};function f(t){return{type:t}}function b(){return!N["b"].button}function p(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function it(t){while(!t.__brush)if(!(t=t.parentNode))return;return t.__brush}function st(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function i(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function s(){return v(X)}function a(){return v(Z)}var u=function(){return v(r)};function v(J){var e=p,W=b,n=Object(o["a"])(i,"start","brush","end"),r=6,q;function i(t){var e=t.property("__brush",u).selectAll(".overlay").data([f("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",$.overlay).merge(e).each(function(){var t=it(this).extent;Object(N["f"])(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])});t.selectAll(".selection").data([f("selection")]).enter().append("rect").attr("class","selection").attr("cursor",$.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var n=t.selectAll(".handle").data(J.handles,function(t){return t.type});n.exit().remove();n.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return $[t.type]});t.each(B).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",a)}i.move=function(t,u){if(t.selection){t.on("start.brush",function(){D(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){D(this,arguments).end()}).tween("brush",function(){var e=this,n=e.__brush,r=D(e,arguments),t=n.selection,i=J.input(typeof u==="function"?u.apply(this,arguments):u,n.extent),s=Object(l["a"])(t,i);function a(t){n.selection=t===1&&st(i)?null:s(t);B.call(e);r.brush()}return t&&i?a:a(1)})}else{t.each(function(){var t=this,e=arguments,n=t.__brush,r=J.input(typeof u==="function"?u.apply(t,e):u,n.extent),i=D(t,e).beforestart();Object(Q["a"])(t);n.selection=r==null||st(r)?null:r;B.call(t);i.start().brush().end()})}};function B(){var t=Object(N["f"])(this),e=it(this).selection;if(e){t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]);t.selectAll(".handle").style("display",null).attr("x",function(t){return t.type[t.type.length-1]==="e"?e[1][0]-r/2:e[0][0]-r/2}).attr("y",function(t){return t.type[0]==="s"?e[1][1]-r/2:e[0][1]-r/2}).attr("width",function(t){return t.type==="n"||t.type==="s"?e[1][0]-e[0][0]+r:r}).attr("height",function(t){return t.type==="e"||t.type==="w"?e[1][1]-e[0][1]+r:r})}else{t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}}function D(t,e){return t.__brush.emitter||new s(t,e)}function s(t,e){this.that=t;this.args=e;this.state=t.__brush;this.active=0}s.prototype={beforestart:function(){if(++this.active===1)this.state.emitter=this,this.starting=true;return this},start:function(){if(this.starting)this.starting=false,this.emit("start");return this},brush:function(){this.emit("brush");return this},end:function(){if(--this.active===0)delete this.state.emitter,this.emit("end");return this},emit:function(t){Object(N["a"])(new h(i,t,J.output(this.state.selection)),n.apply,n,[t,this.that,this.args])}};function a(){if(N["b"].touches){if(N["b"].changedTouches.length<N["b"].touches.length)return Y()}else if(q)return;if(!W.apply(this,arguments))return;var e=this,n=N["b"].target.__data__.type,r=(N["b"].metaKey?n="overlay":n)==="selection"?F:N["b"].altKey?U:L,i=J===Z?null:nt[n],s=J===X?null:rt[n],a=it(e),t=a.extent,u=a.selection,o=t[0][0],l,c,h=t[0][1],f,b,p=t[1][0],v,m,y=t[1][1],d,w,g,M,x,_=i&&s&&N["b"].shiftKey,k,j,O=Object(N["d"])(e),z=O,A=D(e,arguments).beforestart();if(n==="overlay"){a.selection=u=[[l=J===Z?o:O[0],f=J===X?h:O[1]],[v=J===Z?p:l,d=J===X?y:f]]}else{l=u[0][0];f=u[0][1];v=u[1][0];d=u[1][1]}c=l;b=f;m=v;w=d;var T=Object(N["f"])(e).attr("pointer-events","none");var K=T.selectAll(".overlay").attr("cursor",$[n]);if(N["b"].touches){T.on("touchmove.brush",P,true).on("touchend.brush touchcancel.brush",V,true)}else{var I=Object(N["f"])(N["b"].view).on("keydown.brush",C,true).on("keyup.brush",E,true).on("mousemove.brush",P,true).on("mouseup.brush",V,true);Object(G["a"])(N["b"].view)}R();Object(Q["a"])(e);B.call(e);A.start();function P(){var t=Object(N["d"])(e);if(_&&!k&&!j){if(Math.abs(t[0]-z[0])>Math.abs(t[1]-z[1]))j=true;else k=true}z=t;x=true;Y();S()}function S(){var t;g=z[0]-O[0];M=z[1]-O[1];switch(r){case H:case F:{if(i)g=Math.max(o-l,Math.min(p-v,g)),c=l+g,m=v+g;if(s)M=Math.max(h-f,Math.min(y-d,M)),b=f+M,w=d+M;break}case L:{if(i<0)g=Math.max(o-l,Math.min(p-l,g)),c=l+g,m=v;else if(i>0)g=Math.max(o-v,Math.min(p-v,g)),c=l,m=v+g;if(s<0)M=Math.max(h-f,Math.min(y-f,M)),b=f+M,w=d;else if(s>0)M=Math.max(h-d,Math.min(y-d,M)),b=f,w=d+M;break}case U:{if(i)c=Math.max(o,Math.min(p,l-g*i)),m=Math.max(o,Math.min(p,v+g*i));if(s)b=Math.max(h,Math.min(y,f-M*s)),w=Math.max(h,Math.min(y,d+M*s));break}}if(m<c){i*=-1;t=l,l=v,v=t;t=c,c=m,m=t;if(n in tt)K.attr("cursor",$[n=tt[n]])}if(w<b){s*=-1;t=f,f=d,d=t;t=b,b=w,w=t;if(n in et)K.attr("cursor",$[n=et[n]])}if(a.selection)u=a.selection;if(k)c=u[0][0],m=u[1][0];if(j)b=u[0][1],w=u[1][1];if(u[0][0]!==c||u[0][1]!==b||u[1][0]!==m||u[1][1]!==w){a.selection=[[c,b],[m,w]];B.call(e);A.brush()}}function V(){R();if(N["b"].touches){if(N["b"].touches.length)return;if(q)clearTimeout(q);q=setTimeout(function(){q=null},500);T.on("touchmove.brush touchend.brush touchcancel.brush",null)}else{Object(G["b"])(N["b"].view,x);I.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null)}T.attr("pointer-events","all");K.attr("cursor",$.overlay);if(a.selection)u=a.selection;if(st(u))a.selection=null,B.call(e);A.end()}function C(){switch(N["b"].keyCode){case 16:{_=i&&s;break}case 18:{if(r===L){if(i)v=m-g*i,l=c+g*i;if(s)d=w-M*s,f=b+M*s;r=U;S()}break}case 32:{if(r===L||r===U){if(i<0)v=m-g;else if(i>0)l=c-g;if(s<0)d=w-M;else if(s>0)f=b-M;r=H;K.attr("cursor",$.selection);S()}break}default:return}Y()}function E(){switch(N["b"].keyCode){case 16:{if(_){k=j=_=false;S()}break}case 18:{if(r===U){if(i<0)v=m;else if(i>0)l=c;if(s<0)d=w;else if(s>0)f=b;r=L;S()}break}case 32:{if(r===H){if(N["b"].altKey){if(i)v=m-g*i,l=c+g*i;if(s)d=w-M*s,f=b+M*s;r=U}else{if(i<0)v=m;else if(i>0)l=c;if(s<0)d=w;else if(s>0)f=b;r=L}K.attr("cursor",$[n]);S()}break}default:return}Y()}}function u(){var t=this.__brush||{selection:null};t.extent=e.apply(this,arguments);t.dim=J;return t}i.extent=function(t){return arguments.length?(e=typeof t==="function"?t:c([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),i):e};i.filter=function(t){return arguments.length?(W=typeof t==="function"?t:c(!!t),i):W};i.handleSize=function(t){return arguments.length?(r=+t,i):r};i.on=function(){var t=n.on.apply(n,arguments);return t===n?i:t};return i}}}]);
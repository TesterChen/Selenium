(window["nojMonomainWebpackJsonpproduction"]=window["nojMonomainWebpackJsonpproduction"]||[]).push([[156],{"5AO0":function(e,r,n){var i=n("EfWO");var o=n("ieC4");var a=n("WOT1")({Promise:o}).fetch;var t=n("4ok0");var u="youtube";var m="vimeo";var f="dailymotion";var l=["thumbnail_small","thumbnail_medium","thumbnail_large"];var c=["default","mqdefault","hqdefault","sddefault","maxresdefault"];var s=["thumbnail_60_url","thumbnail_120_url","thumbnail_180_url","thumbnail_240_url","thumbnail_360_url","thumbnail_480_url","thumbnail_720_url","thumbnail_1080_url"];var d=/^(?:\/video|\/channels\/[\w-]+|\/groups\/[\w-]+\/videos)?\/(\d+)/;function h(e,r){var n=h.info(e);return n&&h[n.source]&&h[n.source](n.id,r)}h.info=function(e){e=i.parse(e,true);var r;r=p(e);if(r){return{id:r,source:u,url:e.href}}r=v(e);if(r){return{id:r,source:m,url:e.href}}r=b(e);if(r){return{id:r,source:f,url:e.href}}};h.videoSource=h.info;h.image=function(e,r,n){if(typeof r==="function"){n=r;r={}}r=r||{};var i=h.info(e);if(!i&&n)return setTimeout(function(){n()});return i&&h[i.source].image(i.id,r,n)};function v(e){var r;return e.hostname==="vimeo.com"&&(r=d.exec(e.pathname))?r[1]:null}function p(e){if(e.hostname.indexOf("youtube.com")>-1){return e.query.v}if(e.hostname==="youtu.be"){return e.pathname.split("/")[1]}return null}function b(e){if(e.hostname.indexOf("dailymotion.com")>-1){return e.pathname.split("/")[2].split("_")[0]}if(e.hostname==="dai.ly"){return e.pathname.split("/")[1]}return null}h.vimeo=function(e,r){r=g(r);return'<iframe src="//player.vimeo.com/video/'+e+r.query+'"'+r.attr+' frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'};h.youtube=function(e,r){r=g(r);return'<iframe src="//www.youtube.com/embed/'+e+r.query+'"'+r.attr+' frameborder="0" allowfullscreen></iframe>'};h.dailymotion=function(e,r){r=g(r);return'<iframe src="//www.dailymotion.com/embed/video/'+e+r.query+'"'+r.attr+' frameborder="0" allowfullscreen></iframe>'};h.youtube.image=function(e,r,n){if(typeof r==="function"){n=r;r={}}r=r||{};r.image=c.indexOf(r.image)>0?r.image:"default";var i="//img.youtube.com/vi/"+e+"/"+r.image+".jpg";var o={src:i,html:'<img src="'+i+'"/>'};if(!n)return o.html;setTimeout(function(){n(null,o)})};h.vimeo.image=function(i,o,t){if(typeof o==="function"){t=o;o={}}if(!t)throw new Error("must pass embed.vimeo.image a callback");o=o||{};o.image=l.indexOf(o.image)>=0?o.image:"thumbnail_large";a("https://vimeo.com/api/v2/video/"+i+".json").then(function(e){if(e.status!==200){throw new Error("unexpected response from vimeo")}return e.json()}).then(function(e){if(!e||!e[0]||!e[0][o.image]){throw new Error("no image found for vimeo.com/"+i)}var r=e[0][o.image].split(":")[1];var n={src:r,html:'<img src="'+r+'"/>'};t(null,n)}).catch(function(e){t(e)})};h.dailymotion.image=function(i,o,t){if(typeof o==="function"){t=o;o={}}if(!t)throw new Error("must pass embed.dailymotion.image a callback");o=o||{};o.image=s.indexOf(o.image)>=0?o.image:"thumbnail_480_url";a("https://api.dailymotion.com/video/"+i+"?fields="+o.image).then(function(e){if(e.status!==200){throw new Error("unexpected response from dailymotion")}return e.json()}).then(function(e){if(!e||!e[o.image]){throw new Error("no image found for dailymotion.com/"+i)}var r=e[o.image];var n={src:r,html:'<img src="'+r+'"/>'};t(null,n)}).catch(function(e){t(e)})};function y(r){return Object.keys(r).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])}).join("&")}function g(r){var e="";var n="";if(r&&r.hasOwnProperty("query")){e="?"+y(r.query)}if(r&&r.hasOwnProperty("attr")){n=" "+Object.keys(r.attr).map(function(e){return e+'="'+t(r.attr[e])+'"'}).join(" ")}return{query:e,attr:n}}e.exports=h}}]);
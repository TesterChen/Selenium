(window["nojMonomainWebpackJsonpproduction"]=window["nojMonomainWebpackJsonpproduction"]||[]).push([[80],{qrFu:function(e,t,r){"use strict";r.d(t,"a",function(){return f});r.d(t,"c",function(){return O});r.d(t,"b",function(){return x});var E=r("D57K");var M=r("/ebn");var i=r("lTsX");var R=r("3U3H");var n=r("hE+J");var _=r("Vvrm");var h=r("A026");var o=r("MZHy");var O;(function(e){e[e["loading"]=1]="loading";e[e["setVariables"]=2]="setVariables";e[e["fetchMore"]=3]="fetchMore";e[e["refetch"]=4]="refetch";e[e["poll"]=6]="poll";e[e["ready"]=7]="ready";e[e["error"]=8]="error"})(O||(O={}));function P(e){return e<7}var I=function(e){Object(E["__extends"])(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype[n["default"]]=function(){return this};t.prototype["@@observable"]=function(){return this};return t}(i["a"]);function F(e){return e.hasOwnProperty("graphQLErrors")}var u=function(e){var r="";if(Array.isArray(e.graphQLErrors)&&e.graphQLErrors.length!==0){e.graphQLErrors.forEach(function(e){var t=e?e.message:"Error message not found.";r+="GraphQL error: "+t+"\n"})}if(e.networkError){r+="Network error: "+e.networkError.message+"\n"}r=r.replace(/\n$/,"");return r};var x=function(s){Object(E["__extends"])(a,s);function a(e){var t=e.graphQLErrors,r=e.networkError,i=e.errorMessage,n=e.extraInfo;var o=s.call(this,i)||this;o.graphQLErrors=t||[];o.networkError=r||null;if(!i){o.message=u(o)}else{o.message=i}o.extraInfo=n;o.__proto__=a.prototype;return o}return a}(Error);var L;(function(e){e[e["normal"]=1]="normal";e[e["refetch"]=2]="refetch";e[e["poll"]=3]="poll"})(L||(L={}));var c=function(e,t){if(t===void 0){t="none"}return e&&(e.graphQLErrors&&e.graphQLErrors.length>0&&t==="none"||e.networkError)};var s=function(s){Object(E["__extends"])(e,s);function e(e){var t=e.queryManager,r=e.options,i=e.shouldSubscribe,n=i===void 0?true:i;var o=s.call(this,function(e){return o.onSubscribe(e)})||this;o.isTornDown=false;o.options=r;o.variables=r.variables||{};o.queryId=t.generateQueryId();o.shouldSubscribe=n;o.queryManager=t;o.observers=[];o.subscriptionHandles=[];return o}e.prototype.result=function(){var o=this;return new Promise(function(t,r){var i;var n={next:function(e){t(e);if(!o.observers.some(function(e){return e!==n})){o.queryManager.removeQuery(o.queryId)}setTimeout(function(){i.unsubscribe()},0)},error:function(e){r(e)}};i=o.subscribe(n)})};e.prototype.currentResult=function(){var e=this.getCurrentResult();if(e.data===undefined){e.data={}}return e};e.prototype.getCurrentResult=function(){if(this.isTornDown){return{data:this.lastError?undefined:this.lastResult?this.lastResult.data:undefined,error:this.lastError,loading:false,networkStatus:O.error}}var e=this.queryManager.queryStore.get(this.queryId);if(c(e,this.options.errorPolicy)){return{data:undefined,loading:false,networkStatus:e.networkStatus,error:new x({graphQLErrors:e.graphQLErrors,networkError:e.networkError})}}if(e&&e.variables){this.options.variables=Object.assign({},this.options.variables,e.variables)}var t=this.queryManager.getCurrentQueryResult(this),r=t.data,i=t.partial;var n=!e||e.networkStatus===O.loading;var o=this.options.fetchPolicy==="network-only"&&n||i&&this.options.fetchPolicy!=="cache-only";var s;if(e){s=e.networkStatus}else{s=o?O.loading:O.ready}var a={data:r,loading:P(s),networkStatus:s};if(e&&e.graphQLErrors&&this.options.errorPolicy==="all"){a.errors=e.graphQLErrors}if(!i){this.lastResult=Object(E["__assign"])({},a,{stale:false});this.lastResultSnapshot=Object(M["cloneDeep"])(this.lastResult)}return Object(E["__assign"])({},a,{partial:i})};e.prototype.isDifferentFromLastResult=function(e){var t=this.lastResultSnapshot;return!(t&&e&&t.networkStatus===e.networkStatus&&t.stale===e.stale&&Object(M["isEqual"])(t.data,e.data))};e.prototype.getLastResult=function(){return this.lastResult};e.prototype.getLastError=function(){return this.lastError};e.prototype.resetLastResults=function(){delete this.lastResult;delete this.lastResultSnapshot;delete this.lastError;this.isTornDown=false};e.prototype.refetch=function(e){var t=this.options.fetchPolicy;if(t==="cache-only"){return Promise.reject(new Error("cache-only fetchPolicy option should not be used together with query refetch."))}if(!Object(M["isEqual"])(this.variables,e)){this.variables=Object.assign({},this.variables,e)}if(!Object(M["isEqual"])(this.options.variables,this.variables)){this.options.variables=Object.assign({},this.options.variables,this.variables)}var r=t==="network-only"||t==="no-cache";var i=Object(E["__assign"])({},this.options,{fetchPolicy:r?t:"network-only"});return this.queryManager.fetchQuery(this.queryId,i,L.refetch).then(function(e){return e})};e.prototype.fetchMore=function(r){var i=this;true?Object(_["b"])(r.updateQuery):undefined;var n;return Promise.resolve().then(function(){var e=i.queryManager.generateQueryId();if(r.query){n=r}else{n=Object(E["__assign"])({},i.options,r,{variables:Object.assign({},i.variables,r.variables)})}n.fetchPolicy="network-only";return i.queryManager.fetchQuery(e,n,L.normal,i.queryId)}).then(function(t){i.updateQuery(function(e){return r.updateQuery(e,{fetchMoreResult:t.data,variables:n.variables})});return t})};e.prototype.subscribeToMore=function(n){var t=this;var r=this.queryManager.startGraphQLSubscription({query:n.document,variables:n.variables}).subscribe({next:function(i){if(n.updateQuery){t.updateQuery(function(e,t){var r=t.variables;return n.updateQuery(e,{subscriptionData:i,variables:r})})}},error:function(e){if(n.onError){n.onError(e);return}console.error("Unhandled GraphQL subscription error",e)}});this.subscriptionHandles.push(r);return function(){var e=t.subscriptionHandles.indexOf(r);if(e>=0){t.subscriptionHandles.splice(e,1);r.unsubscribe()}}};e.prototype.setOptions=function(e){var t=this.options;this.options=Object.assign({},this.options,e);if(e.pollInterval){this.startPolling(e.pollInterval)}else if(e.pollInterval===0){this.stopPolling()}var r=t.fetchPolicy!=="network-only"&&e.fetchPolicy==="network-only"||t.fetchPolicy==="cache-only"&&e.fetchPolicy!=="cache-only"||t.fetchPolicy==="standby"&&e.fetchPolicy!=="standby"||false;return this.setVariables(this.options.variables,r,e.fetchResults)};e.prototype.setVariables=function(e,t,r){if(t===void 0){t=false}if(r===void 0){r=true}this.isTornDown=false;var i=e?e:this.variables;if(Object(M["isEqual"])(i,this.variables)&&!t){if(this.observers.length===0||!r){return new Promise(function(e){return e()})}return this.result()}else{this.variables=i;this.options.variables=i;if(this.observers.length===0){return new Promise(function(e){return e()})}return this.queryManager.fetchQuery(this.queryId,Object(E["__assign"])({},this.options,{variables:this.variables})).then(function(e){return e})}};e.prototype.updateQuery=function(e){var t=this.queryManager.getQueryWithPreviousResult(this.queryId),r=t.previousResult,i=t.variables,n=t.document;var o=Object(M["tryFunctionOrLogError"])(function(){return e(r,{variables:i})});if(o){this.queryManager.dataStore.markUpdateQueryResult(n,i,o);this.queryManager.broadcastQueries()}};e.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId);this.options.pollInterval=undefined};e.prototype.startPolling=function(e){a(this);this.options.pollInterval=e;this.queryManager.startPollingQuery(this.options,this.queryId)};e.prototype.onSubscribe=function(t){var e=this;if(t._subscription&&t._subscription._observer&&!t._subscription._observer.error){t._subscription._observer.error=function(e){console.error("Unhandled error",e.message,e.stack)}}this.observers.push(t);if(t.next&&this.lastResult)t.next(this.lastResult);if(t.error&&this.lastError)t.error(this.lastError);if(this.observers.length===1)this.setUpQuery();return function(){e.observers=e.observers.filter(function(e){return e!==t});if(e.observers.length===0){e.tearDownQuery()}}};e.prototype.setUpQuery=function(){var e=this;if(this.shouldSubscribe){this.queryManager.addObservableQuery(this.queryId,this)}if(!!this.options.pollInterval){a(this);this.queryManager.startPollingQuery(this.options,this.queryId)}var t={next:function(t){e.lastResult=t;e.lastResultSnapshot=Object(M["cloneDeep"])(t);e.observers.forEach(function(e){return e.next&&e.next(t)})},error:function(t){e.lastError=t;e.observers.forEach(function(e){return e.error&&e.error(t)})}};this.queryManager.startQuery(this.queryId,this.options,this.queryManager.queryListenerForObserver(this.queryId,this.options,t))};e.prototype.tearDownQuery=function(){this.isTornDown=true;this.queryManager.stopPollingQuery(this.queryId);this.subscriptionHandles.forEach(function(e){return e.unsubscribe()});this.subscriptionHandles=[];this.queryManager.removeObservableQuery(this.queryId);this.queryManager.stopQuery(this.queryId);this.observers=[]};return e}(I);function a(e){var t=e.options.fetchPolicy;true?Object(_["b"])(t!=="cache-first"&&t!=="cache-only"):undefined}var p=function(){function e(){this.store={}}e.prototype.getStore=function(){return this.store};e.prototype.get=function(e){return this.store[e]};e.prototype.initMutation=function(e,t,r){this.store[e]={mutation:t,variables:r||{},loading:true,error:null}};e.prototype.markMutationError=function(e,t){var r=this.store[e];if(!r){return}r.loading=false;r.error=t};e.prototype.markMutationResult=function(e){var t=this.store[e];if(!t){return}t.loading=false;t.error=null};e.prototype.reset=function(){this.store={}};return e}();var d=function(){function e(){this.store={}}e.prototype.getStore=function(){return this.store};e.prototype.get=function(e){return this.store[e]};e.prototype.initQuery=function(e){var t=this.store[e.queryId];if(t&&t.document!==e.document&&!Object(M["isEqual"])(t.document,e.document)){throw true?new _["a"]:undefined}var r=false;var i=null;if(e.storePreviousVariables&&t&&t.networkStatus!==O.loading){if(!Object(M["isEqual"])(t.variables,e.variables)){r=true;i=t.variables}}var n;if(r){n=O.setVariables}else if(e.isPoll){n=O.poll}else if(e.isRefetch){n=O.refetch}else{n=O.loading}var o=[];if(t&&t.graphQLErrors){o=t.graphQLErrors}this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:i,networkError:null,graphQLErrors:o,networkStatus:n,metadata:e.metadata};if(typeof e.fetchMoreForQueryId==="string"&&this.store[e.fetchMoreForQueryId]){this.store[e.fetchMoreForQueryId].networkStatus=O.fetchMore}};e.prototype.markQueryResult=function(e,t,r){if(!this.store||!this.store[e])return;this.store[e].networkError=null;this.store[e].graphQLErrors=t.errors&&t.errors.length?t.errors:[];this.store[e].previousVariables=null;this.store[e].networkStatus=O.ready;if(typeof r==="string"&&this.store[r]){this.store[r].networkStatus=O.ready}};e.prototype.markQueryError=function(e,t,r){if(!this.store||!this.store[e])return;this.store[e].networkError=t;this.store[e].networkStatus=O.error;if(typeof r==="string"){this.markQueryResultClient(r,true)}};e.prototype.markQueryResultClient=function(e,t){if(!this.store||!this.store[e])return;this.store[e].networkError=null;this.store[e].previousVariables=null;this.store[e].networkStatus=t?O.ready:O.loading};e.prototype.stopQuery=function(e){delete this.store[e]};e.prototype.reset=function(t){var r=this;this.store=Object.keys(this.store).filter(function(e){return t.indexOf(e)>-1}).reduce(function(e,t){e[t]=Object(E["__assign"])({},r.store[t],{networkStatus:O.loading});return e},{})};return e}();function v(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Q=function(){function e(e){var t=e.cache,r=e.client,i=e.resolvers,n=e.fragmentMatcher;this.cache=t;if(r){this.client=r}if(i){this.addResolvers(i)}if(n){this.setFragmentMatcher(n)}}e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{};if(Array.isArray(e)){e.forEach(function(e){t.resolvers=Object(M["mergeDeep"])(t.resolvers,e)})}else{this.resolvers=Object(M["mergeDeep"])(this.resolvers,e)}};e.prototype.setResolvers=function(e){this.resolvers={};this.addResolvers(e)};e.prototype.getResolvers=function(){return this.resolvers||{}};e.prototype.runResolvers=function(e){var t=e.document,r=e.remoteResult,i=e.context,n=e.variables,o=e.onlyRunForcedResolvers,s=o===void 0?false:o;return Object(E["__awaiter"])(this,void 0,void 0,function(){return Object(E["__generator"])(this,function(e){if(t){return[2,this.resolveDocument(t,r.data,i,n,this.fragmentMatcher,s).then(function(e){return Object(E["__assign"])({},r,{data:e.result})})]}return[2,r]})})};e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e};e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher};e.prototype.clientQuery=function(e){if(Object(M["hasDirectives"])(["client"],e)){if(this.resolvers){return e}true||false}return null};e.prototype.serverQuery=function(e){return this.resolvers?Object(M["removeClientSetsFromDocument"])(e):e};e.prototype.prepareContext=function(e){if(e===void 0){e={}}var t=this.cache;var r=Object(E["__assign"])({},e,{cache:t,getCacheKey:function(e){if(t.config){return t.config.dataIdFromObject(e)}else{true?Object(_["b"])(false):undefined}}});return r};e.prototype.addExportedVariables=function(t,r,i){if(r===void 0){r={}}if(i===void 0){i={}}return Object(E["__awaiter"])(this,void 0,void 0,function(){return Object(E["__generator"])(this,function(e){if(t){return[2,this.resolveDocument(t,this.buildRootValueFromCache(t,r)||{},this.prepareContext(i),r).then(function(e){return Object(E["__assign"])({},r,e.exportedVariables)})]}return[2,Object(E["__assign"])({},r)]})})};e.prototype.shouldForceResolvers=function(e){var t=false;Object(o["b"])(e,{Directive:{enter:function(e){if(e.name.value==="client"&&e.arguments){t=e.arguments.some(function(e){return e.name.value==="always"&&e.value.kind==="BooleanValue"&&e.value.value===true});if(t){return o["a"]}}}}});return t};e.prototype.shouldForceResolver=function(e){return this.shouldForceResolvers(e)};e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:Object(M["buildQueryFromSelectionSet"])(e),variables:t,optimistic:false}).result};e.prototype.resolveDocument=function(l,f,h,p,d,y){if(h===void 0){h={}}if(p===void 0){p={}}if(d===void 0){d=function(){return true}}if(y===void 0){y=false}return Object(E["__awaiter"])(this,void 0,void 0,function(){var t,r,i,n,o,s,a,u,c;return Object(E["__generator"])(this,function(e){t=Object(M["getMainDefinition"])(l);r=Object(M["getFragmentDefinitions"])(l);i=Object(M["createFragmentMap"])(r);n=t.operation;o=n?v(n):"Query";s=this,a=s.cache,u=s.client;c={fragmentMap:i,context:Object(E["__assign"])({},h,{cache:a,client:u}),variables:p,fragmentMatcher:d,defaultOperationType:o,exportedVariables:{},onlyRunForcedResolvers:y};return[2,this.resolveSelectionSet(t.selectionSet,f,c).then(function(e){return{result:e,exportedVariables:c.exportedVariables}})]})})};e.prototype.resolveSelectionSet=function(i,u,c){return Object(E["__awaiter"])(this,void 0,void 0,function(){var n,o,s,a,t;var r=this;return Object(E["__generator"])(this,function(e){n=c.fragmentMap,o=c.context,s=c.variables;a=[u];t=function(i){return Object(E["__awaiter"])(r,void 0,void 0,function(){var t,r;return Object(E["__generator"])(this,function(e){if(!Object(M["shouldInclude"])(i,s)){return[2]}if(Object(M["isField"])(i)){return[2,this.resolveField(i,u,c).then(function(e){var t;if(typeof e!=="undefined"){a.push((t={},t[Object(M["resultKeyNameFromField"])(i)]=e,t))}})]}if(Object(M["isInlineFragment"])(i)){t=i}else{t=n[i.name.value];true?Object(_["b"])(t):undefined}if(t&&t.typeCondition){r=t.typeCondition.name.value;if(c.fragmentMatcher(u,r,o)){return[2,this.resolveSelectionSet(t.selectionSet,u,c).then(function(e){a.push(e)})]}}return[2]})})};return[2,Promise.all(i.selections.map(t)).then(function(){return Object(M["mergeDeepArray"])(a)})]})})};e.prototype.resolveField=function(f,h,p){return Object(E["__awaiter"])(this,void 0,void 0,function(){var t,r,i,n,o,s,a,u,c;var l=this;return Object(E["__generator"])(this,function(e){t=p.variables;r=f.name.value;i=Object(M["resultKeyNameFromField"])(f);n=r!==i;o=h[i]||h[r];s=Promise.resolve(o);if(!p.onlyRunForcedResolvers||this.shouldForceResolver(f)){a=h.__typename||p.defaultOperationType;u=this.resolvers&&this.resolvers[a];if(u){c=u[n?r:i];if(c){s=Promise.resolve(c(h,Object(M["argumentsObjectFromField"])(f,t),p.context,{field:f}))}}}return[2,s.then(function(t){if(t===void 0){t=o}if(f.directives){f.directives.forEach(function(e){if(e.name.value==="export"&&e.arguments){e.arguments.forEach(function(e){if(e.name.value==="as"&&e.value.kind==="StringValue"){p.exportedVariables[e.value.value]=t}})}})}if(!f.selectionSet){return t}if(t==null){return t}if(Array.isArray(t)){return l.resolveSubSelectedArray(f,t,p)}if(f.selectionSet){return l.resolveSelectionSet(f.selectionSet,t,p)}})]})})};e.prototype.resolveSubSelectedArray=function(t,e,r){var i=this;return Promise.all(e.map(function(e){if(e===null){return null}if(Array.isArray(e)){return i.resolveSubSelectedArray(t,e,r)}if(t.selectionSet){return i.resolveSelectionSet(t.selectionSet,e,r)}}))};return e}();var l=function(){function e(e){var t=e.link,r=e.queryDeduplication,i=r===void 0?false:r,n=e.store,o=e.onBroadcast,s=o===void 0?function(){return undefined}:o,a=e.ssrMode,u=a===void 0?false:a,c=e.clientAwareness,l=c===void 0?{}:c,f=e.localState;this.mutationStore=new p;this.queryStore=new d;this.clientAwareness={};this.idCounter=1;this.queries=new Map;this.fetchQueryRejectFns=new Map;this.queryIdsByName={};this.pollingInfoByQueryId=new Map;this.nextPoll=null;this.link=t;this.deduplicator=R["ApolloLink"].from([new h["a"],t]);this.queryDeduplication=i;this.dataStore=n;this.onBroadcast=s;this.clientAwareness=l;this.localState=f||new Q({cache:n.getCache()});this.ssrMode=u}e.prototype.stop=function(){var r=this;this.queries.forEach(function(e,t){r.stopQueryNoBroadcast(t)});this.fetchQueryRejectFns.forEach(function(e){e(new Error("QueryManager stopped while query was in flight"))})};e.prototype.mutate=function(e){var m=e.mutation,i=e.variables,Q=e.optimisticResponse,n=e.updateQueries,t=e.refetchQueries,w=t===void 0?[]:t,r=e.awaitRefetchQueries,O=r===void 0?false:r,q=e.update,o=e.errorPolicy,S=o===void 0?"none":o,j=e.fetchPolicy,s=e.context,k=s===void 0?{}:s;return Object(E["__awaiter"])(this,void 0,void 0,function(){var y,t,v,b,r;var g=this;return Object(E["__generator"])(this,function(e){switch(e.label){case 0:true?Object(_["b"])(m):undefined;true?Object(_["b"])(!j||j==="no-cache"):undefined;y=this.generateQueryId();t=this.dataStore.getCache();m=t.transformDocument(m),i=Object(M["assign"])({},Object(M["getDefaultValues"])(Object(M["getMutationDefinition"])(m)),i);this.setQuery(y,function(){return{document:m}});v=function(){var r={};if(n){Object.keys(n).forEach(function(t){return(g.queryIdsByName[t]||[]).forEach(function(e){r[e]={updater:n[t],query:g.queryStore.get(e)}})})}return r};if(!Object(M["hasClientExports"])(m))return[3,2];return[4,this.localState.addExportedVariables(m,i,k)];case 1:r=e.sent();return[3,3];case 2:r=i;e.label=3;case 3:b=r;this.mutationStore.initMutation(y,m,b);this.dataStore.markMutationInit({mutationId:y,document:m,variables:b||{},updateQueries:v(),update:q,optimisticResponse:Q});this.broadcastQueries();return[2,new Promise(function(o,s){var a;var u;var c=g.buildOperationForLink(m,b,Object(E["__assign"])({},k,{optimisticResponse:Q}));var l=function(){if(u){g.mutationStore.markMutationError(y,u)}g.dataStore.markMutationComplete({mutationId:y,optimisticResponse:Q});g.broadcastQueries();if(u){return Promise.reject(u)}if(typeof w==="function"){w=w(a)}var e=[];for(var t=0,r=w;t<r.length;t++){var i=r[t];if(typeof i==="string"){var n=g.refetchQueryByName(i);if(n){e.push(n)}continue}var o={query:i.query,variables:i.variables,fetchPolicy:"network-only"};if(i.context){o.context=i.context}e.push(g.query(o))}return Promise.all(O?e:[]).then(function(){g.setQuery(y,function(){return{document:null}});if(S==="ignore"&&a&&Object(M["graphQLResultHasError"])(a)){delete a.errors}return a})};var f=g.localState.clientQuery(c.query);var e=g.localState.serverQuery(c.query);if(e){c.query=e}var t=e?Object(R["execute"])(g.link,c):I.of({data:{}});var h=g;var p=false;var d=false;t.subscribe({next:function(n){return Object(E["__awaiter"])(g,void 0,void 0,function(){var t,r,i;return Object(E["__generator"])(this,function(e){switch(e.label){case 0:d=true;if(Object(M["graphQLResultHasError"])(n)&&S==="none"){d=false;u=new x({graphQLErrors:n.errors});return[2]}h.mutationStore.markMutationResult(y);t=n;r=c.context,i=c.variables;if(!(f&&Object(M["hasDirectives"])(["client"],f)))return[3,2];return[4,h.localState.runResolvers({document:f,remoteResult:n,context:r,variables:i}).catch(function(e){d=false;s(e);return n})];case 1:t=e.sent();e.label=2;case 2:if(j!=="no-cache"){h.dataStore.markMutationResult({mutationId:y,result:t,document:m,variables:b||{},updateQueries:v(),update:q})}a=t;d=false;if(p){l().then(o,s)}return[2]}})})},error:function(e){h.mutationStore.markMutationError(y,e);h.dataStore.markMutationComplete({mutationId:y,optimisticResponse:Q});h.broadcastQueries();h.setQuery(y,function(){return{document:null}});s(new x({networkError:e}))},complete:function(){if(!d){l().then(o,s)}p=true}})})]}})})};e.prototype.fetchQuery=function(j,k,R,_){return Object(E["__awaiter"])(this,void 0,void 0,function(){var t,r,i,n,o,s,a,u,c,l,f,h,p,d,y,v,b,g,m,Q,w,O,q;var S=this;return Object(E["__generator"])(this,function(e){switch(e.label){case 0:t=k.variables,r=t===void 0?{}:t,i=k.metadata,n=i===void 0?null:i,o=k.fetchPolicy,s=o===void 0?"cache-first":o,a=k.context,u=a===void 0?{}:a;c=this.dataStore.getCache();l=c.transformDocument(k.query);if(!Object(M["hasClientExports"])(l))return[3,2];return[4,this.localState.addExportedVariables(l,r,u)];case 1:h=e.sent();return[3,3];case 2:h=r;e.label=3;case 3:f=h;p=Object(E["__assign"])({},k,{variables:f});y=s==="network-only"||s==="no-cache";if(R!==L.refetch&&s!=="network-only"&&s!=="no-cache"){v=this.dataStore.getCache().diff({query:l,variables:f,returnPartialData:true,optimistic:false}),b=v.complete,g=v.result;y=!b||s==="cache-and-network";d=g}m=y&&s!=="cache-only"&&s!=="standby";if(Object(M["hasDirectives"])(["live"],l))m=true;Q=this.generateRequestId();w=this.updateQueryWatch(j,l,p);this.setQuery(j,function(){return{document:l,lastRequestId:Q,invalidated:true,cancel:w}});this.invalidate(true,_);this.queryStore.initQuery({queryId:j,document:l,storePreviousVariables:m,variables:f,isPoll:R===L.poll,isRefetch:R===L.refetch,metadata:n,fetchMoreForQueryId:_});this.broadcastQueries();O=!m||s==="cache-and-network";if(O){this.queryStore.markQueryResultClient(j,!m);this.invalidate(true,j,_);this.broadcastQueries(this.localState.shouldForceResolvers(l))}if(m){q=this.fetchRequest({requestId:Q,queryId:j,document:l,options:p,fetchMoreForQueryId:_}).catch(function(e){if(F(e)){throw e}else{var t=S.getQuery(j).lastRequestId;if(Q>=(t||1)){S.queryStore.markQueryError(j,e,_);S.invalidate(true,j,_);S.broadcastQueries()}throw new x({networkError:e})}});if(s!=="cache-and-network"){return[2,q]}else{q.catch(function(){})}}return[2,Promise.resolve({data:d})]}})})};e.prototype.queryListenerForObserver=function(S,j,k){var e=this;var R=false;return function(w,O,q){return Object(E["__awaiter"])(e,void 0,void 0,function(){var t,r,i,n,o,s,a,u,c,l,f,h,p,d,y,v,b,g,m,Q;return Object(E["__generator"])(this,function(e){switch(e.label){case 0:this.invalidate(false,S);if(!w)return[2];t=this.getQuery(S).observableQuery;r=t?t.options.fetchPolicy:j.fetchPolicy;if(r==="standby")return[2];i=t?t.options.errorPolicy:j.errorPolicy;n=t?t.getLastResult():null;o=t?t.getLastError():null;s=!O&&w.previousVariables!=null||r==="cache-only"||r==="cache-and-network";a=Boolean(n&&w.networkStatus!==n.networkStatus);u=i&&(o&&o.graphQLErrors)!==w.graphQLErrors&&i!=="none";if(!(!P(w.networkStatus)||a&&j.notifyOnNetworkStatusChange||s))return[3,8];if((!i||i==="none")&&w.graphQLErrors&&w.graphQLErrors.length>0||w.networkError){c=new x({graphQLErrors:w.graphQLErrors,networkError:w.networkError});R=true;if(k.error){try{k.error(c)}catch(e){setTimeout(function(){throw e},0)}}else{setTimeout(function(){throw c},0);if(false){}}return[2]}e.label=1;case 1:e.trys.push([1,7,,8]);l=void 0;f=void 0;if(O){if(r!=="no-cache"&&r!=="network-only"){this.setQuery(S,function(){return{newData:null}})}l=O.result;f=!O.complete||false}else{if(n&&n.data&&!u){l=n.data;f=false}else{h=this.getQuery(S).document;p=this.dataStore.getCache().diff({query:h,variables:w.previousVariables||w.variables,optimistic:true});l=p.result;f=!p.complete}}d=void 0;if(f&&r!=="cache-only"){d={data:n&&n.data,loading:P(w.networkStatus),networkStatus:w.networkStatus,stale:true}}else{d={data:l,loading:P(w.networkStatus),networkStatus:w.networkStatus,stale:false}}if(i==="all"&&w.graphQLErrors&&w.graphQLErrors.length>0){d.errors=w.graphQLErrors}if(!k.next)return[3,6];if(!(R||!t||t.isDifferentFromLastResult(d)))return[3,6];e.label=2;case 2:e.trys.push([2,5,,6]);if(!q)return[3,4];y=j.query,v=j.variables,b=j.context;return[4,this.localState.runResolvers({document:y,remoteResult:d,context:b,variables:v,onlyRunForcedResolvers:q})];case 3:g=e.sent();d=Object(E["__assign"])({},d,g);e.label=4;case 4:k.next(d);return[3,6];case 5:m=e.sent();setTimeout(function(){throw m},0);return[3,6];case 6:R=false;return[3,8];case 7:Q=e.sent();R=true;if(k.error)k.error(new x({networkError:Q}));return[2];case 8:return[2]}})})}};e.prototype.watchQuery=function(e,t){if(t===void 0){t=true}true?Object(_["b"])(e.fetchPolicy!=="standby"):undefined;var r=Object(M["getQueryDefinition"])(e.query);if(r.variableDefinitions&&r.variableDefinitions.length){var i=Object(M["getDefaultValues"])(r);e.variables=Object(M["assign"])({},i,e.variables)}if(typeof e.notifyOnNetworkStatusChange==="undefined"){e.notifyOnNetworkStatusChange=false}var n=Object(E["__assign"])({},e);return new s({queryManager:this,options:n,shouldSubscribe:t})};e.prototype.query=function(i){var n=this;true?Object(_["b"])(i.query):undefined;true?Object(_["b"])(i.query.kind==="Document"):undefined;true?Object(_["b"])(!i.returnPartialData):undefined;true?Object(_["b"])(!i.pollInterval):undefined;return new Promise(function(e,t){var r=n.watchQuery(i,false);n.fetchQueryRejectFns.set("query:"+r.queryId,t);r.result().then(e,t).then(function(){return n.fetchQueryRejectFns.delete("query:"+r.queryId)})})};e.prototype.generateQueryId=function(){var e=this.idCounter.toString();this.idCounter++;return e};e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e);this.broadcastQueries()};e.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e);this.queryStore.stopQuery(e);this.invalidate(true,e)};e.prototype.addQueryListener=function(e,i){this.setQuery(e,function(e){var t=e.listeners,r=t===void 0?[]:t;return{listeners:r.concat([i]),invalidated:false}})};e.prototype.updateQueryWatch=function(i,e,t){var n=this;var r=this.getQuery(i).cancel;if(r)r();var o=function(){var e=null;var t=n.getQuery(i).observableQuery;if(t){var r=t.getLastResult();if(r){e=r.data}}return e};return this.dataStore.getCache().watch({query:e,variables:t.variables,optimistic:true,previousResult:o,callback:function(e){n.setQuery(i,function(){return{invalidated:true,newData:e}})}})};e.prototype.addObservableQuery=function(e,t){this.setQuery(e,function(){return{observableQuery:t}});var r=Object(M["getQueryDefinition"])(t.options.query);if(r.name&&r.name.value){var i=r.name.value;this.queryIdsByName[i]=this.queryIdsByName[i]||[];this.queryIdsByName[i].push(t.queryId)}};e.prototype.removeObservableQuery=function(e){var t=this.getQuery(e),r=t.observableQuery,i=t.cancel;if(i)i();if(!r)return;var n=Object(M["getQueryDefinition"])(r.options.query);var o=n.name?n.name.value:null;this.setQuery(e,function(){return{observableQuery:null}});if(o){this.queryIdsByName[o]=this.queryIdsByName[o].filter(function(e){return!(r.queryId===e)})}};e.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(e){e(new Error("Store reset while query was in flight(not completed in link chain)"))});var i=[];this.queries.forEach(function(e,t){var r=e.observableQuery;if(r)i.push(t)});this.queryStore.reset(i);this.mutationStore.reset();var e=this.dataStore.reset();return e};e.prototype.resetStore=function(){var e=this;return this.clearStore().then(function(){return e.reFetchObservableQueries()})};e.prototype.reFetchObservableQueries=function(e){var t=this.getObservableQueryPromises(e);this.broadcastQueries();return Promise.all(t)};e.prototype.startQuery=function(e,t,r){this.addQueryListener(e,r);this.fetchQuery(e,t).catch(function(){return undefined});return e};e.prototype.startGraphQLSubscription=function(e){var s=this;var t=e.query;var a=!(e.fetchPolicy&&e.fetchPolicy==="no-cache");var r=this.dataStore.getCache();var u=r.transformDocument(t);var c=Object(M["assign"])({},Object(M["getDefaultValues"])(Object(M["getOperationDefinition"])(t)),e.variables);var l=c;var f;var h=[];var p=this.localState.clientQuery(u);return new I(function(t){h.push(t);if(h.length===1){var i=0;var n=false;var o={next:function(r){return Object(E["__awaiter"])(s,void 0,void 0,function(){var t;return Object(E["__generator"])(this,function(e){switch(e.label){case 0:i+=1;t=r;if(!(p&&Object(M["hasDirectives"])(["client"],p)))return[3,2];return[4,this.localState.runResolvers({document:p,remoteResult:r,context:{},variables:l})];case 1:t=e.sent();e.label=2;case 2:if(a){this.dataStore.markSubscriptionResult(t,u,l);this.broadcastQueries()}h.forEach(function(e){if(Object(M["graphQLResultHasError"])(t)&&e.error){e.error(new x({graphQLErrors:t.errors}))}else if(e.next){e.next(t)}i-=1});if(i===0&&n){o.complete()}return[2]}})})},error:function(t){h.forEach(function(e){if(e.error){e.error(t)}})},complete:function(){if(i===0){h.forEach(function(e){if(e.complete){e.complete()}})}n=true}};(function(){return Object(E["__awaiter"])(s,void 0,void 0,function(){var t,r,i,n;return Object(E["__generator"])(this,function(e){switch(e.label){case 0:if(!Object(M["hasClientExports"])(u))return[3,2];return[4,this.localState.addExportedVariables(u,c)];case 1:r=e.sent();return[3,3];case 2:r=c;e.label=3;case 3:t=r;i=this.localState.serverQuery(u);if(i){n=this.buildOperationForLink(i,t);f=Object(R["execute"])(this.link,n).subscribe(o)}else{f=I.of({data:{}}).subscribe(o)}return[2]}})})})()}return function(){h=h.filter(function(e){return e!==t});if(h.length===0&&f){f.unsubscribe()}}})};e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e);this.broadcastQueries()};e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e);this.removeQuery(e)};e.prototype.removeQuery=function(e){var t=this.getQuery(e).subscriptions;this.fetchQueryRejectFns.delete("query:"+e);this.fetchQueryRejectFns.delete("fetchRequest:"+e);t.forEach(function(e){return e.unsubscribe()});this.queries.delete(e)};e.prototype.getCurrentQueryResult=function(e,t){if(t===void 0){t=true}var r=e.options,i=r.variables,n=r.query,o=r.fetchPolicy;var s=e.getLastResult();var a=this.getQuery(e.queryId).newData;if(a&&a.complete){return{data:a.result,partial:false}}else if(o==="no-cache"||o==="network-only"){return{data:undefined,partial:false}}else{try{var u=this.dataStore.getCache().read({query:n,variables:i,previousResult:s?s.data:undefined,optimistic:t})||undefined;return{data:u,partial:false}}catch(e){return{data:undefined,partial:true}}}};e.prototype.getQueryWithPreviousResult=function(e){var t;if(typeof e==="string"){var r=this.getQuery(e).observableQuery;true?Object(_["b"])(r):undefined;t=r}else{t=e}var i=t.options,n=i.variables,o=i.query;var s=this.getCurrentQueryResult(t,false).data;return{previousResult:s,variables:n,document:o}};e.prototype.broadcastQueries=function(i){var n=this;if(i===void 0){i=false}this.onBroadcast();this.queries.forEach(function(t,r){if(!t.invalidated||!t.listeners)return;t.listeners.filter(function(e){return!!e}).forEach(function(e){e(n.queryStore.get(r),t.newData,i)})})};e.prototype.getLocalState=function(){return this.localState};e.prototype.getObservableQueryPromises=function(n){var o=this;var s=[];this.queries.forEach(function(e,t){var r=e.observableQuery;if(!r)return;var i=r.options.fetchPolicy;r.resetLastResults();if(i!=="cache-only"&&(n||i!=="standby")){s.push(r.refetch())}o.setQuery(t,function(){return{newData:null}});o.invalidate(true,t)});return s};e.prototype.fetchRequest=function(e){var f=this;var h=e.requestId,p=e.queryId,d=e.document,t=e.options,y=e.fetchMoreForQueryId;var v=t.variables,b=t.context,r=t.errorPolicy,g=r===void 0?"none":r,m=t.fetchPolicy;var Q;var w;return new Promise(function(e,n){var t;var o={};var s=f.localState.clientQuery(d);var r=f.localState.serverQuery(d);if(r){var i=f.buildOperationForLink(r,v,Object(E["__assign"])({},b,{forceFetch:!f.queryDeduplication}));o=i.context;t=Object(R["execute"])(f.deduplicator,i)}else{o=f.prepareContext(b);t=I.of({data:{}})}f.fetchQueryRejectFns.set("fetchRequest:"+p,n);var a=false;var u=true;var c={next:function(i){return Object(E["__awaiter"])(f,void 0,void 0,function(){var t,r;return Object(E["__generator"])(this,function(e){switch(e.label){case 0:u=true;t=i;r=this.getQuery(p).lastRequestId;if(!(h>=(r||1)))return[3,3];if(!(s&&Object(M["hasDirectives"])(["client"],s)))return[3,2];return[4,this.localState.runResolvers({document:s,remoteResult:i,context:o,variables:v}).catch(function(e){u=false;n(e);return i})];case 1:t=e.sent();e.label=2;case 2:if(m!=="no-cache"){try{this.dataStore.markQueryResult(t,d,v,y,g==="ignore"||g==="all")}catch(e){u=false;n(e);return[2]}}else{this.setQuery(p,function(){return{newData:{result:t.data,complete:true}}})}this.queryStore.markQueryResult(p,t,y);this.invalidate(true,p,y);this.broadcastQueries();e.label=3;case 3:if(t.errors&&g==="none"){u=false;n(new x({graphQLErrors:t.errors}));return[2]}else if(g==="all"){w=t.errors}if(y||m==="no-cache"){Q=t.data}else{try{Q=this.dataStore.getCache().read({variables:v,query:d,optimistic:false})}catch(e){}}u=false;if(a){c.complete()}return[2]}})})},error:function(e){f.fetchQueryRejectFns.delete("fetchRequest:"+p);f.setQuery(p,function(e){var t=e.subscriptions;return{subscriptions:t.filter(function(e){return e!==l})}});n(e)},complete:function(){if(!u){f.fetchQueryRejectFns.delete("fetchRequest:"+p);f.setQuery(p,function(e){var t=e.subscriptions;return{subscriptions:t.filter(function(e){return e!==l})}});e({data:Q,errors:w,loading:false,networkStatus:O.ready,stale:false})}a=true}};var l=t.subscribe(c);f.setQuery(p,function(e){var t=e.subscriptions;return{subscriptions:t.concat([l])}})}).catch(function(e){f.fetchQueryRejectFns.delete("fetchRequest:"+p);throw e})};e.prototype.refetchQueryByName=function(e){var t=this;var r=this.queryIdsByName[e];if(r===undefined)return;return Promise.all(r.map(function(e){return t.getQuery(e).observableQuery}).filter(function(e){return!!e}).map(function(e){return e.refetch()}))};e.prototype.generateRequestId=function(){var e=this.idCounter;this.idCounter++;return e};e.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:[],invalidated:false,document:null,newData:null,lastRequestId:null,observableQuery:null,subscriptions:[]}};e.prototype.setQuery=function(e,t){var r=this.getQuery(e);var i=Object(E["__assign"])({},r,t(r));this.queries.set(e,i)};e.prototype.invalidate=function(e,t,r){if(t)this.setQuery(t,function(){return{invalidated:e}});if(r){this.setQuery(r,function(){return{invalidated:e}})}};e.prototype.buildOperationForLink=function(e,t,r){var i=this.dataStore.getCache();return{query:i.transformForLink?i.transformForLink(e):e,variables:t,operationName:Object(M["getOperationName"])(e)||undefined,context:this.prepareContext(r)}};e.prototype.prepareContext=function(e){if(e===void 0){e={}}var t=this.localState.prepareContext(e);return Object(E["__assign"])({},t,{clientAwareness:this.clientAwareness})};e.prototype.checkInFlight=function(e){var t=this.queryStore.get(e);return t&&t.networkStatus!==O.ready&&t.networkStatus!==O.error};e.prototype.startPollingQuery=function(e,t,r){var i=e.pollInterval;true?Object(_["b"])(i):undefined;if(!this.ssrMode){this.pollingInfoByQueryId.set(t,{interval:i,lastPollTimeMs:Date.now()-10,options:Object(E["__assign"])({},e,{fetchPolicy:"network-only"})});if(r){this.addQueryListener(t,r)}this.schedulePoll(i)}return t};e.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)};e.prototype.schedulePoll=function(e){var n=this;var t=Date.now();if(this.nextPoll){if(e<this.nextPoll.time-t){clearTimeout(this.nextPoll.timeout)}else{return}}this.nextPoll={time:t+e,timeout:setTimeout(function(){n.nextPoll=null;var i=Infinity;n.pollingInfoByQueryId.forEach(function(e,t){if(e.interval<i){i=e.interval}if(!n.checkInFlight(t)){if(Date.now()-e.lastPollTimeMs>=e.interval){var r=function(){e.lastPollTimeMs=Date.now()};n.fetchQuery(t,e.options,L.poll).then(r,r)}}});if(isFinite(i)){n.schedulePoll(i)}},e)}};return e}();var w=function(){function e(e){this.cache=e}e.prototype.getCache=function(){return this.cache};e.prototype.markQueryResult=function(e,t,r,i,n){if(n===void 0){n=false}var o=!Object(M["graphQLResultHasError"])(e);if(n&&Object(M["graphQLResultHasError"])(e)&&e.data){o=true}if(!i&&o){this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:r})}};e.prototype.markSubscriptionResult=function(e,t,r){if(!Object(M["graphQLResultHasError"])(e)){this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:r})}};e.prototype.markMutationInit=function(e){var r=this;if(e.optimisticResponse){var t;if(typeof e.optimisticResponse==="function"){t=e.optimisticResponse(e.variables)}else{t=e.optimisticResponse}var i=function(){r.markMutationResult({mutationId:e.mutationId,result:{data:t},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})};this.cache.recordOptimisticTransaction(function(e){var t=r.cache;r.cache=e;try{i()}finally{r.cache=t}},e.mutationId)}};e.prototype.markMutationResult=function(u){var c=this;if(!Object(M["graphQLResultHasError"])(u.result)){var l=[];l.push({result:u.result.data,dataId:"ROOT_MUTATION",query:u.document,variables:u.variables});if(u.updateQueries){Object.keys(u.updateQueries).filter(function(e){return u.updateQueries[e]}).forEach(function(e){var t=u.updateQueries[e],r=t.query,i=t.updater;var n=c.cache.diff({query:r.document,variables:r.variables,returnPartialData:true,optimistic:false}),o=n.result,s=n.complete;if(!s){return}var a=Object(M["tryFunctionOrLogError"])(function(){return i(o,{mutationResult:u.result,queryName:Object(M["getOperationName"])(r.document)||undefined,queryVariables:r.variables})});if(a){l.push({result:a,dataId:"ROOT_QUERY",query:r.document,variables:r.variables})}})}this.cache.performTransaction(function(t){l.forEach(function(e){return t.write(e)})});var t=u.update;if(t){this.cache.performTransaction(function(e){Object(M["tryFunctionOrLogError"])(function(){return t(e,u.result)})})}}};e.prototype.markMutationComplete=function(e){var t=e.mutationId,r=e.optimisticResponse;if(!r)return;this.cache.removeOptimistic(t)};e.prototype.markUpdateQueryResult=function(e,t,r){this.cache.write({result:r,dataId:"ROOT_QUERY",variables:t,query:e})};e.prototype.reset=function(){return this.cache.reset()};return e}();var q="2.5.1";var S=false;var f=function(){function e(e){var t=this;this.defaultOptions={};this.resetStoreCallbacks=[];this.clearStoreCallbacks=[];this.clientAwareness={};var r=e.cache,i=e.ssrMode,n=i===void 0?false:i,o=e.ssrForceFetchDelay,s=o===void 0?0:o,a=e.connectToDevTools,u=e.queryDeduplication,c=u===void 0?true:u,l=e.defaultOptions,f=e.resolvers,h=e.typeDefs,p=e.fragmentMatcher,d=e.name,y=e.version;var v=e.link;if(!v&&f){v=R["ApolloLink"].empty()}if(!v||!r){throw true?new _["a"]:undefined}var b=new Map;var g=new R["ApolloLink"](function(e,t){var r=b.get(e.query);if(!r){r=Object(M["removeConnectionDirectiveFromDocument"])(e.query);b.set(e.query,r);b.set(r,r)}e.query=r;return t(e)});this.link=g.concat(v);this.cache=r;this.store=new w(r);this.disableNetworkFetches=n||s>0;this.queryDeduplication=c;this.ssrMode=n;this.defaultOptions=l||{};this.typeDefs=h;if(s){setTimeout(function(){return t.disableNetworkFetches=false},s)}this.watchQuery=this.watchQuery.bind(this);this.query=this.query.bind(this);this.mutate=this.mutate.bind(this);this.resetStore=this.resetStore.bind(this);this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var m=false&&false;if(typeof a==="undefined"?m:a&&typeof window!=="undefined"){window.__APOLLO_CLIENT__=this}if(!S&&"production"!=="production"){S=true;if(typeof window!=="undefined"&&window.document&&window.top===window.self){if(typeof window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__==="undefined"){if(window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("Chrome")>-1){console.debug("Download the Apollo DevTools "+"for a better development experience: "+"https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm")}}}}this.version=q;if(d){this.clientAwareness.name=d}if(y){this.clientAwareness.version=y}this.localState=new Q({cache:r,client:this,resolvers:f,fragmentMatcher:p})}e.prototype.stop=function(){if(this.queryManager){this.queryManager.stop()}};e.prototype.watchQuery=function(e){if(this.defaultOptions.watchQuery){e=Object(E["__assign"])({},this.defaultOptions.watchQuery,e)}if(this.disableNetworkFetches&&(e.fetchPolicy==="network-only"||e.fetchPolicy==="cache-and-network")){e=Object(E["__assign"])({},e,{fetchPolicy:"cache-first"})}return this.initQueryManager().watchQuery(e)};e.prototype.query=function(e){if(this.defaultOptions.query){e=Object(E["__assign"])({},this.defaultOptions.query,e)}true?Object(_["b"])(e.fetchPolicy!=="cache-and-network"):undefined;if(this.disableNetworkFetches&&e.fetchPolicy==="network-only"){e=Object(E["__assign"])({},e,{fetchPolicy:"cache-first"})}return this.initQueryManager().query(e)};e.prototype.mutate=function(e){if(this.defaultOptions.mutate){e=Object(E["__assign"])({},this.defaultOptions.mutate,e)}return this.initQueryManager().mutate(e)};e.prototype.subscribe=function(e){return this.initQueryManager().startGraphQLSubscription(e)};e.prototype.readQuery=function(e,t){if(t===void 0){t=false}return this.initProxy().readQuery(e,t)};e.prototype.readFragment=function(e,t){if(t===void 0){t=false}return this.initProxy().readFragment(e,t)};e.prototype.writeQuery=function(e){var t=this.initProxy().writeQuery(e);this.initQueryManager().broadcastQueries();return t};e.prototype.writeFragment=function(e){var t=this.initProxy().writeFragment(e);this.initQueryManager().broadcastQueries();return t};e.prototype.writeData=function(e){var t=this.initProxy().writeData(e);this.initQueryManager().broadcastQueries();return t};e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e};e.prototype.__requestRaw=function(e){return Object(R["execute"])(this.link,e)};e.prototype.initQueryManager=function(){var e=this;if(!this.queryManager){this.queryManager=new l({link:this.link,store:this.store,queryDeduplication:this.queryDeduplication,ssrMode:this.ssrMode,clientAwareness:this.clientAwareness,localState:this.localState,onBroadcast:function(){if(e.devToolsHookCb){e.devToolsHookCb({action:{},state:{queries:e.queryManager?e.queryManager.queryStore.getStore():{},mutations:e.queryManager?e.queryManager.mutationStore.getStore():{}},dataWithOptimisticResults:e.cache.extract(true)})}}})}return this.queryManager};e.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager?e.queryManager.clearStore():Promise.resolve(null)}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(e){return e()}))}).then(function(){return e.queryManager&&e.queryManager.reFetchObservableQueries?e.queryManager.reFetchObservableQueries():Promise.resolve(null)})};e.prototype.clearStore=function(){var e=this;var t=this.queryManager;return Promise.resolve().then(function(){return Promise.all(e.clearStoreCallbacks.map(function(e){return e()}))}).then(function(){return t?t.clearStore():Promise.resolve(null)})};e.prototype.onResetStore=function(t){var e=this;this.resetStoreCallbacks.push(t);return function(){e.resetStoreCallbacks=e.resetStoreCallbacks.filter(function(e){return e!==t})}};e.prototype.onClearStore=function(t){var e=this;this.clearStoreCallbacks.push(t);return function(){e.clearStoreCallbacks=e.clearStoreCallbacks.filter(function(e){return e!==t})}};e.prototype.reFetchObservableQueries=function(e){return this.queryManager?this.queryManager.reFetchObservableQueries(e):Promise.resolve(null)};e.prototype.extract=function(e){return this.initProxy().extract(e)};e.prototype.restore=function(e){return this.initProxy().restore(e)};e.prototype.addResolvers=function(e){this.localState.addResolvers(e)};e.prototype.setResolvers=function(e){this.localState.setResolvers(e)};e.prototype.getResolvers=function(){return this.localState.getResolvers()};e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)};e.prototype.initProxy=function(){if(!this.proxy){this.initQueryManager();this.proxy=this.cache}return this.proxy};return e}();var y=f}}]);